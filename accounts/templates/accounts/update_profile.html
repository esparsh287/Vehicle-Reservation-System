{% extends 'accounts/base.html' %}

{% block content %}
<header class="bg-dark py-5">
    <div class="container px-4 px-lg-5 my-5">
        <div class="text-center text-white">
            <h1 class="display-4 fw-bolder">Update Profile</h1>
            <p class="lead fw-normal text-white-50 mb-0">Update Your Account...</p>
        </div>
    </div>
</header> 

<div class="container ">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <br><br>
            <form method="post" enctype="multipart/form-data" action="{% url 'update_profile' user.id%}">
                {% csrf_token %}

                <label for="username">Username</label>
                <input type="text" value="{{user.username}}" class="form-control" name="username">

                <label for="Email">Email</label>
                <input type="text" value="{{user.email}}" class="form-control" name="email">

                <label for="first_name">First name</label>
                <input type="text" value="{{user.first_name}}" class="form-control" name="first_name">

                <label for="last_name">Last name</label>
                <input type="text" value="{{user.last_name}}" class="form-control" name="last_name">

                <label for="address">Address</label>
                <input type="text" value="{{user.address}}" class="form-control" name="address">

                <label for="phone_number">Phone</label>
                <input type="text" value="{{user.phone_number}}" class="form-control" name="phone_number">

                <br>
                <button class="btn btn-secondary" type="submit">Update</button>
                
            </form>
            <br><br><br><br>
        </div>
    </div>

</div>
<script>
    const roleSelect = document.getElementById("id_role"); 
    const vehicleFields = document.getElementById("vehicle-fields");

    function toggleVehicleFields() {
        if (roleSelect.value === "owner") { 
            vehicleFields.style.display = "block";
        } else {
            vehicleFields.style.display = "none";
        }
    }

    toggleVehicleFields();
    roleSelect.addEventListener("change", toggleVehicleFields);
</script>

{% endblock %}
